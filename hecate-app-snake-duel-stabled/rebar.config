{erl_opts, [debug_info, warnings_as_errors]}.

{deps, [
    {cowboy, "2.12.0"},
    {reckon_db, "1.3.2"},
    {evoq, "1.3.1"},
    {reckon_evoq, "1.1.4"},
    {esqlite, "0.8.8"},
    {faber_tweann, "1.2.0"},
    {faber_neuroevolution, "1.2.3"},
    {faber_nn_nifs, {git, "https://github.com/rgfaber/faber-nn-nifs.git", {tag, "v1.0.0"}}}
]}.

{src_dirs, [
    "src",
    "src/initiate_stable",
    "src/halt_training",
    "src/promote_champion",
    "src/export_champion",
    "src/stream_training",
    "src/start_champion_duel",
    "src/batch_test_champion",
    "src/get_stables",
    "src/get_stable_by_id",
    "src/get_champion",
    "src/get_champions",
    "src/get_training_history"
]}.

{relx, [
    {release, {hecate_app_snake_duel_stabled, "0.1.0"}, [
        hecate_app_snake_duel_stabled,
        reckon_db, evoq, reckon_evoq,
        esqlite, faber_tweann, faber_neuroevolution,
        sasl
    ]},
    {mode, dev},
    {dev_mode, true},
    {include_erts, false},
    {extended_start_script, true},
    {sys_config, "config/sys.config"},
    {vm_args, "config/vm.args"}
]}.

{profiles, [
    {prod, [{relx, [{mode, prod}, {dev_mode, false}, {include_erts, true}]}]},
    {test, [{deps, [{meck, "0.9.2"}]}]}
]}.

{project_plugins, [rebar3_ex_doc]}.
{ex_doc, [
    {source_url, <<"https://github.com/hecate-social/hecate-app-snake-duel-stable">>},
    {extras, [<<"README.md">>]},
    {main, <<"README.md">>}
]}.
{hex, [{doc, ex_doc}]}.

{dialyzer, [
    {warnings, [error_handling]},
    {plt_extra_apps, [cowboy, cowlib, ranch, reckon_evoq, evoq, esqlite,
                      faber_tweann, faber_neuroevolution]},
    {exclude_apps, [reckon_db, reckon_gater, khepri, ra, horus, aten, seshat, gen_batch_server]}
]}.
